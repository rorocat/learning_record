# 闭包
:::tip
JavaScript 中函数能够访问并记住其语法作用域之外的变量的时候，那么就会形成闭包。
:::

闭包是 JavaScript 中非常重要的概念，它使得函数可以保持对其词法作用域的引用，从而实现了一些有趣的编程模式和功能。使我们在函数外部能够访问到函数内部的变量。通过使用闭包，我们可以通过在外部调用闭包函数，从而在外部访问到函数内部的变量，可以使用这种方法来创建私有变量，也可使已经运行结束的函数上下文中的变量对象继续留在内存中，因为闭包函数保留了这个变量对象的引用，所以这个变量对象不会被回收，但是需要注意的是，过度使用闭包可能导致内存泄漏，因为闭包会保留对其词法作用域的引用，即使它们不再被使用。因此，避免过多的滥用闭包。

闭包的存在方式：
1. 返回值为一个函数
2. 作为参数传递，回调函数
3. IIFE（立即执行函数）

```js{2}
// 返回值是一个函数
function func1() {
  let count = 1;
  return function() {
    console.log(count++);
  }
}
// 函数作为参数传递
function func2(fn) {
  fn();
}
// 立即执行函数
!(function() {
  ...
})();
```